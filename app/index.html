<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vibe Styles — 98 Estilos de Design para Designers e Desenvolvedores</title>
  <meta name="description"
    content="Coleção interativa com 98 estilos de UI/UX design organizados em 4 categorias: General, Landing Page, BI/Analytics e Infographic. Cada estilo inclui demonstração visual e prompt copiável para IA generativa.">
  <link rel="canonical" href="https://ui-ux-style-showcase.com/">
  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Vibe Styles — 98 Estilos de Design">
  <meta property="og:description"
    content="Coleção interativa com 98 estilos de UI/UX design. Demonstrações visuais e prompts copiáveis para IA generativa. Glassmorphism, Brutalism, Neumorphism e mais.">
  <meta property="og:url" content="https://ui-ux-style-showcase.com/">
  <meta property="og:locale" content="pt_BR">
  <meta property="og:site_name" content="Vibe Styles">
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Vibe Styles — 98 Estilos de Design">
  <meta name="twitter:description"
    content="Coleção interativa com 98 estilos de UI/UX design. Demonstrações visuais e prompts copiáveis para IA generativa.">
  <!-- Schema Markup JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "WebSite",
        "name": "Vibe Styles",
        "url": "https://ui-ux-style-showcase.com/",
        "description": "Coleção interativa com 98 estilos de UI/UX design organizados em 4 categorias, com demonstrações visuais e prompts copiáveis para IA generativa.",
        "inLanguage": "pt-BR"
      },
      {
        "@type": "CollectionPage",
        "name": "Vibe Styles — 98 Estilos de Design",
        "description": "Catálogo completo de 98 estilos de UI/UX design incluindo Glassmorphism, Brutalism, Neumorphism, Dark Mode OLED, dashboards BI e infográficos.",
        "url": "https://ui-ux-style-showcase.com/",
        "inLanguage": "pt-BR",
        "mainEntity": {
          "@type": "ItemList",
          "name": "Estilos de UI/UX Design",
          "numberOfItems": 98,
          "itemListElement": [
            {"@type":"ListItem","position":1,"name":"Minimalism & Swiss Style","url":"https://ui-ux-style-showcase.com/styles/1.html"},
            {"@type":"ListItem","position":2,"name":"Neumorphism","url":"https://ui-ux-style-showcase.com/styles/2.html"},
            {"@type":"ListItem","position":3,"name":"Glassmorphism","url":"https://ui-ux-style-showcase.com/styles/3.html"},
            {"@type":"ListItem","position":4,"name":"Brutalism","url":"https://ui-ux-style-showcase.com/styles/4.html"},
            {"@type":"ListItem","position":5,"name":"3D & Hyperrealism","url":"https://ui-ux-style-showcase.com/styles/5.html"},
            {"@type":"ListItem","position":6,"name":"Vibrant & Block-based","url":"https://ui-ux-style-showcase.com/styles/6.html"},
            {"@type":"ListItem","position":7,"name":"Dark Mode (OLED)","url":"https://ui-ux-style-showcase.com/styles/7.html"},
            {"@type":"ListItem","position":8,"name":"Accessible & Ethical","url":"https://ui-ux-style-showcase.com/styles/8.html"},
            {"@type":"ListItem","position":9,"name":"Claymorphism","url":"https://ui-ux-style-showcase.com/styles/9.html"},
            {"@type":"ListItem","position":10,"name":"Aurora UI","url":"https://ui-ux-style-showcase.com/styles/10.html"}
          ]
        }
      },
      {
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "O que é o Vibe Styles?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "O Vibe Styles é uma coleção interativa com 98 estilos de UI/UX design organizados em 4 categorias: General (66 estilos), Landing Page (8 estilos), BI/Analytics (10 estilos) e Infographic (13 estilos). Cada estilo possui uma demonstração visual em HTML/CSS e um prompt copiável para reproduzir o design em ferramentas de IA generativa."
            }
          },
          {
            "@type": "Question",
            "name": "Quais categorias de estilos estão disponíveis?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "São 4 categorias: General (66 estilos como Glassmorphism, Brutalism, Neumorphism, Dark Mode OLED), Landing Page (8 padrões de conversão como Hero-Centric e Social Proof), BI/Analytics (10 dashboards como Executive e Real-Time Monitoring) e Infographic (13 estilos visuais como Sakura, Geometric e Aurora Borealis)."
            }
          },
          {
            "@type": "Question",
            "name": "Como copiar o prompt de um estilo para usar em IA generativa?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Selecione o estilo desejado no dropdown da barra de navegação. Clique no botão 'Copiar Prompt' no canto superior direito. O prompt será copiado para sua área de transferência, pronto para colar em ferramentas como ChatGPT, Claude, Gemini ou qualquer IA generativa."
            }
          },
          {
            "@type": "Question",
            "name": "Quais estilos de design estão incluídos na coleção?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "A coleção inclui 98 estilos como Minimalism & Swiss Style, Glassmorphism, Brutalism, Neumorphism, Cyberpunk UI, Art Deco, Vaporwave, Pixel Art, Bento Box Grid, Steampunk Industrial, Kawaii, Comic Book / Pop Art, Blueprint / Engineering, entre muitos outros. Cada estilo tem demonstração visual completa."
            }
          }
        ]
      }
    ]
  }
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      background: #0f172a;
      color: #e2e8f0;
    }

    .navbar {
      flex-shrink: 0;
    }

    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      min-height: 0;
    }

    main>article {
      flex-shrink: 0;
    }

    .iframe-wrap {
      flex: 1;
      min-height: 0;
    }

    .iframe-wrap iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    select optgroup {
      font-weight: 700;
    }

    .copy-btn {
      transition: all 0.2s;
    }

    .copy-btn:hover {
      background: rgba(139, 92, 246, 0.25);
    }

    .copy-btn.copied {
      background: rgba(16, 185, 129, 0.25);
      color: #6ee7b7;
    }
  </style>
</head>

<body>
  <nav class="navbar sticky top-0 z-50 bg-slate-900/95 backdrop-blur border-b border-slate-700/50 px-4 py-3">
    <div class="max-w-screen-2xl mx-auto flex items-center justify-between gap-3 flex-wrap">
      <div class="flex items-center gap-2 shrink-0">
        <svg class="w-6 h-6 text-violet-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01" />
        </svg>
        <div class="hidden sm:flex flex-col leading-tight">
          <span class="font-bold text-sm text-white">Vibe Styles</span>
          <span class="text-[10px] text-slate-400">Coleção interativa de estilos de UI/UX para vibe coding</span>
        </div>
        <span class="sm:hidden font-bold text-sm text-white">Vibe Styles</span>
      </div>
      <div class="flex items-center gap-2 flex-1 max-w-lg">
        <label for="style-select"
          class="text-xs font-medium text-slate-400 whitespace-nowrap hidden sm:block">Estilo:</label>
        <select id="style-select"
          class="w-full px-3 py-2 text-sm font-medium cursor-pointer rounded-lg border border-slate-600 bg-slate-800 text-slate-200 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500"></select>
      </div>
      <div class="flex items-center gap-2 shrink-0">
        <button id="faq-btn"
          class="cursor-pointer flex items-center gap-1.5 text-xs font-medium px-3 py-1.5 rounded-lg border border-slate-600 text-slate-300 hover:bg-slate-700/50 transition-colors"
          title="Perguntas Frequentes">
          <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <span class="hidden sm:inline">FAQ</span>
        </button>
        <span id="type-badge"
          class="text-xs font-semibold px-3 py-1 rounded-full bg-violet-500/20 text-violet-300 whitespace-nowrap"></span>
        <button id="copy-prompt-btn"
          class="copy-btn cursor-pointer flex items-center gap-1.5 text-xs font-medium px-3 py-1.5 rounded-lg border border-slate-600 text-slate-300"
          title="Copie o prompt para gerar esse estilo na sua IA preferida">
          <svg id="copy-icon" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
          </svg>
          <svg id="check-icon" class="w-4 h-4 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
          </svg>
          <span id="copy-label" class="hidden sm:inline">Copiar Prompt</span>
        </button>
      </div>
      <a href="https://github.com/fabricioctelles/vibe-styles" target="_blank" rel="noopener noreferrer"
        class="shrink-0 ml-1" title="Star on GitHub">
        <svg class="w-7 h-7 text-slate-300 hover:text-yellow-400 transition-colors" viewBox="0 0 24 24"
          fill="currentColor">
          <path
            d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" />
        </svg>
      </a>
      <a href="https://ft.ia.br" target="_blank" rel="noopener noreferrer" class="shrink-0 ml-1"
        title="Criado por ft.ia.br">
        <img src="/assets/logo-fabricio.png" alt="Logo Fabrício" class="h-8 w-auto rounded">
      </a>
    </div>
  </nav>
  <!-- FAQ Modal -->
  <div id="faq-modal" class="fixed inset-0 z-[100] hidden items-center justify-center bg-black/60 backdrop-blur-sm"
    role="dialog" aria-modal="true" aria-labelledby="faq-title">
    <div
      class="bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl w-full max-w-2xl mx-4 max-h-[80vh] flex flex-col">
      <div class="flex items-center justify-between px-6 py-4 border-b border-slate-700">
        <h2 id="faq-title" class="text-lg font-semibold text-white">Perguntas Frequentes</h2>
        <button id="faq-close"
          class="cursor-pointer text-slate-400 hover:text-white transition-colors p-1 rounded-lg hover:bg-slate-700"
          aria-label="Fechar">
          <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="overflow-y-auto px-6 py-5 space-y-5">
        <dl class="space-y-5">
          <div>
            <dt class="text-sm font-medium text-violet-300 mb-1.5">O que é o Vibe Styles?</dt>
            <dd class="text-sm text-slate-400 leading-relaxed">Uma coleção interativa com 98 estilos de UI/UX design,
              cada um com demonstração visual e prompt copiável para IA generativa. Ideal para designers e
              desenvolvedores buscando referências visuais.</dd>
          </div>
          <div>
            <dt class="text-sm font-medium text-violet-300 mb-1.5">Quais categorias estão disponíveis?</dt>
            <dd class="text-sm text-slate-400 leading-relaxed">São 4 categorias: General (66 estilos como Glassmorphism
              e Brutalism), Landing Page (8 padrões de conversão), BI/Analytics (10 dashboards) e Infographic (13
              estilos visuais).</dd>
          </div>
          <div>
            <dt class="text-sm font-medium text-violet-300 mb-1.5">Como copiar o prompt de um estilo?</dt>
            <dd class="text-sm text-slate-400 leading-relaxed">Selecione o estilo no dropdown e clique em "Copiar
              Prompt". O texto será copiado para sua área de transferência, pronto para usar em ChatGPT, Claude, Gemini
              ou qualquer IA generativa.</dd>
          </div>
          <div>
            <dt class="text-sm font-medium text-violet-300 mb-1.5">Quais estilos estão incluídos?</dt>
            <dd class="text-sm text-slate-400 leading-relaxed">Minimalism, Glassmorphism, Brutalism, Neumorphism,
              Cyberpunk UI, Art Deco, Vaporwave, Pixel Art, Bento Box Grid, Steampunk, Kawaii, Comic Book, Blueprint e
              mais 85 outros estilos.</dd>
          </div>
        </dl>
      </div>
    </div>
  </div>

  <main>
    <!-- Resposta direta para motores de IA (visível e semântica) -->
    <article class="sr-only" aria-hidden="false">
      <p>O Vibe Styles é uma coleção interativa com 98 estilos de UI/UX design organizados em 4 categorias: General
        (66), Landing Page (8), BI/Analytics (10) e Infographic (13). Cada estilo possui demonstração visual em HTML/CSS
        e um prompt copiável para reproduzir o design em ferramentas de IA generativa como ChatGPT, Claude e Gemini.</p>
    </article>

    <div class="iframe-wrap">
      <iframe id="style-frame" src="/styles/1.html" title="Visualização do Estilo"></iframe>
    </div>
  </main>
  <script>
    /**
     * DataLoader — Módulo responsável por carregar o JSON centralizado
     * e construir o cache em memória para consulta instantânea.
     * Requisitos: 2.1, 2.2, 3.1
     */
    const DataLoader = {
      cache: {},        // Map: id → { id, name, type, prompt }
      styles: [],       // Array ordenado para Combo e SlugRouter
      loaded: false,

      /**
       * Carrega o data.json via fetch e popula cache e styles.
       * Deve ser chamado uma única vez na inicialização do app.
       */
      async init() {
        const res = await fetch('/data/data.json');
        if (!res.ok) throw new Error('Falha ao carregar dados');
        const data = await res.json();

        data.forEach(item => {
          this.cache[item.id] = item;
        });
        this.styles = data.sort((a, b) => a.id - b.id);
        this.loaded = true;
      },

      /**
       * Retorna o objeto prompt do estilo com o ID dado, ou null se não encontrado.
       * @param {number} id - ID do estilo
       * @returns {object|null} Objeto prompt estruturado ou null
       */
      getPrompt(id) {
        const entry = this.cache[id];
        return entry ? entry.prompt : null;
      },

      /**
       * Retorna o objeto completo do estilo (id, name, type, prompt) ou null.
       * @param {number} id - ID do estilo
       * @returns {object|null} Objeto estilo ou null
       */
      getStyle(id) {
        return this.cache[id] || null;
      },

      /**
       * Reconstrói o texto completo do prompt a partir do objeto estruturado,
       * mantendo compatibilidade com o formato original dos arquivos .txt.
       * @param {object} promptObj - Objeto prompt estruturado
       * @returns {string} Texto completo do prompt
       */
      buildPromptText(promptObj) {
        const lines = [];
        lines.push(promptObj.header);
        lines.push('');
        lines.push('## Estilo');
        lines.push(`- Nome: ${promptObj.estilo.nome}`);
        lines.push(`- Tipo: ${promptObj.estilo.tipo}`);
        lines.push(`- Keywords: ${promptObj.estilo.keywords}`);
        lines.push(`- Cores Primárias: ${promptObj.estilo.coresPrimarias}`);
        lines.push(`- Cores Secundárias: ${promptObj.estilo.coresSecundarias}`);
        lines.push(`- Efeitos: ${promptObj.estilo.efeitos}`);
        lines.push(`- Era: ${promptObj.estilo.era}`);
        lines.push(`- Light/Dark: ${promptObj.estilo.lightDark}`);
        lines.push('');
        lines.push('## AI Prompt Keywords (SIGA FIELMENTE)');
        lines.push(promptObj.aiPromptKeywords);
        lines.push('');
        lines.push('## CSS/Technical');
        lines.push(promptObj.cssTechnical);
        lines.push('');
        lines.push('## Design System Variables');
        lines.push(promptObj.designSystemVariables);
        lines.push('');
        lines.push('## Checklist');
        lines.push(promptObj.checklist);
        lines.push('');
        lines.push('## REGRAS DE EXECUÇÃO');
        lines.push(promptObj.regrasDeExecucao);
        return lines.join('\n');
      }
    };

    // Array STYLES removido — dados agora vêm de DataLoader.styles via data.json

    /**
     * Converte nome de estilo em slug URL-safe
     * @param {string} name - Nome do estilo (ex: "3D & Hyperrealism")
     * @returns {string} Slug (ex: "3d-hyperrealism")
     */
    function generateSlug(name) {
      return name
        .normalize('NFD')                    // Decompõe acentos (ê → e + ̂)
        .replace(/[\u0300-\u036f]/g, '')     // Remove diacríticos
        .toLowerCase()                        // Lowercase
        .replace(/[^a-z0-9\s-]/g, ' ')       // Substitui caracteres especiais por espaço
        .replace(/\s+/g, '-')                // Espaços → hifens
        .replace(/-+/g, '-')                 // Hifens múltiplos → único
        .replace(/^-|-$/g, '');              // Remove hifens nas bordas
    }

    // slug → {id, name, type}
    const SLUG_MAP = {};
    // id → slug
    const ID_TO_SLUG = {};

    /**
     * Reconstrói SLUG_MAP e ID_TO_SLUG a partir de um array de estilos.
     * @param {Array} styles - Array de objetos {id, name, type}
     */
    function buildSlugMaps(styles) {
      // Limpa mapas existentes
      Object.keys(SLUG_MAP).forEach(k => delete SLUG_MAP[k]);
      Object.keys(ID_TO_SLUG).forEach(k => delete ID_TO_SLUG[k]);

      styles.forEach(style => {
        const slug = generateSlug(style.name);
        SLUG_MAP[slug] = style;
        ID_TO_SLUG[style.id] = slug;
      });
    }

    /**
     * Roteador de Slugs — gerencia navegação por URL com slugs SEO-friendly
     * Lê a URL atual, resolve slugs, e gerencia History API (pushState/popstate)
     */
    const SlugRouter = {
      /**
       * Resolve a URL atual do browser e retorna o style object correspondente ou null.
       * Detecta: /styles/{slug}, /?style={id}, ou / (home)
       * @returns {{ style: object, slug: string } | null}
       */
      resolveCurrentURL() {
        const pathname = window.location.pathname;
        const search = window.location.search;

        // Detectar /styles/{slug}
        const slugMatch = pathname.match(/^\/styles\/([a-z0-9][a-z0-9-]*)$/);
        if (slugMatch) {
          const slug = slugMatch[1];
          const style = SLUG_MAP[slug];
          if (style) {
            return { style, slug };
          }
          // Slug inválido → retorna null (tratamento de fallback feito no init)
          return null;
        }

        // Detectar /?style={id} (legacy param)
        const params = new URLSearchParams(search);
        const styleId = params.get('style');
        if (styleId) {
          const id = Number(styleId);
          const style = DataLoader.getStyle(id);
          if (style) {
            const slug = ID_TO_SLUG[id];
            return { style, slug, isLegacy: true };
          }
          // ID inválido → retorna null
          return null;
        }

        // Home page (/) → estilo padrão (ID 1)
        if (pathname === '/' || pathname === '/index.html') {
          const style = DataLoader.getStyle(1);
          const slug = ID_TO_SLUG[1];
          return { style, slug, isHome: true };
        }

        return null;
      },

      /**
       * Atualiza a URL do browser via pushState para /styles/{slug}
       * @param {string} slug - O slug do estilo
       */
      navigateTo(slug) {
        const style = SLUG_MAP[slug];
        if (style) {
          history.pushState({ slug }, '', '/styles/' + slug);
        }
      },

      /**
       * Handler para evento popstate (navegação back/forward do browser)
       * @param {PopStateEvent} event
       */
      onPopState(event) {
        if (event.state && event.state.slug) {
          const style = SLUG_MAP[event.state.slug];
          if (style) {
            loadStyle(style.id);
            MetaManager.update(style, event.state.slug);
            SchemaManager.updateCurrentStyle(style, event.state.slug);
            select.value = style.id;
            return;
          }
        }
        // Sem state ou slug inválido → resolve pela URL atual
        const resolved = SlugRouter.resolveCurrentURL();
        if (resolved) {
          loadStyle(resolved.style.id);
          MetaManager.update(resolved.style, resolved.slug);
          SchemaManager.updateCurrentStyle(resolved.style, resolved.slug);
          select.value = resolved.style.id;
        } else {
          // Fallback: estilo padrão
          const defaultStyle = DataLoader.getStyle(1);s.id === 1);
          const defaultSlug = ID_TO_SLUG[1];
          loadStyle(1);
          MetaManager.update(defaultStyle, defaultSlug);
          SchemaManager.updateCurrentStyle(defaultStyle, defaultSlug);
          select.value = 1;
        }
      },

      /**
       * Inicializa o roteador: resolve URL atual, carrega estilo, configura popstate
       */
      init() {
        // Configurar listener de popstate
        window.addEventListener('popstate', SlugRouter.onPopState);

        // Resolver URL atual
        const resolved = SlugRouter.resolveCurrentURL();

        if (resolved) {
          // Carregar o estilo resolvido
          loadStyle(resolved.style.id);
          MetaManager.update(resolved.style, resolved.slug);
          SchemaManager.updateCurrentStyle(resolved.style, resolved.slug);

          // Sincronizar dropdown com o estilo resolvido
          select.value = resolved.style.id;

          if (resolved.isLegacy) {
            // Legacy param (?style={id}) → redirecionar para URL com slug
            history.replaceState({ slug: resolved.slug }, '', '/styles/' + resolved.slug);
          } else if (!resolved.isHome) {
            // Acesso via slug → definir state no histórico atual
            history.replaceState({ slug: resolved.slug }, '', window.location.pathname + window.location.search);
          }
        } else {
          // URL inválida ou slug não encontrado → estilo padrão com URL limpa
          const defaultStyle = DataLoader.getStyle(1);
          const defaultSlug = ID_TO_SLUG[1];
          loadStyle(1);
          MetaManager.update(defaultStyle, defaultSlug);
          SchemaManager.updateCurrentStyle(defaultStyle, defaultSlug);
          select.value = 1;
          history.replaceState({}, '', '/');
        }
      }
    };

    /**
     * MetaManager — atualiza meta tags do <head> dinamicamente por estilo.
     * Requirements: 4.1, 4.2, 4.3, 4.4, 4.5
     */
    const MetaManager = {
      BASE_URL: 'https://ui-ux-style-showcase.com',

      /**
       * Atualiza todas as meta tags para o estilo dado
       * @param {{ name: string, type: string }} style
       * @param {string} slug
       */
      update(style, slug) {
        this.updateTitle(style);
        this.updateDescription(style);
        this.updateCanonical(slug);
        this.updateOpenGraph(style, slug);
        this.updateTwitterCard(style);
      },

      /** Atualiza document.title — Req 4.1 */
      updateTitle(style) {
        document.title = style.name + ' — Vibe Styles';
      },

      /** Atualiza meta description — Req 4.2 */
      updateDescription(style) {
        const content = 'Demonstração visual do estilo ' + style.name + ' (' + style.type + '). Explore o design, veja exemplos e copie o prompt para reproduzir em IA generativa.';
        this._setMeta('name', 'description', content);
      },

      /** Atualiza link canonical — Req 4.3 */
      updateCanonical(slug) {
        const href = this.BASE_URL + '/styles/' + slug;
        let link = document.querySelector('link[rel="canonical"]');
        if (!link) {
          link = document.createElement('link');
          link.setAttribute('rel', 'canonical');
          document.head.appendChild(link);
        }
        link.setAttribute('href', href);
      },

      /** Atualiza Open Graph tags — Req 4.4 */
      updateOpenGraph(style, slug) {
        const title = style.name + ' — Vibe Styles';
        const description = 'Explore o estilo ' + style.name + ' com demonstração visual interativa e prompt copiável para IA generativa.';
        const url = this.BASE_URL + '/styles/' + slug;
        this._setMeta('property', 'og:title', title);
        this._setMeta('property', 'og:description', description);
        this._setMeta('property', 'og:url', url);
      },

      /** Atualiza Twitter Card tags — Req 4.5 */
      updateTwitterCard(style) {
        const title = style.name + ' — Vibe Styles';
        const description = 'Explore o estilo ' + style.name + ' com demonstração visual interativa e prompt copiável para IA generativa.';
        this._setMeta('name', 'twitter:title', title);
        this._setMeta('name', 'twitter:description', description);
      },

      /**
       * Helper: encontra ou cria uma meta tag e define seu content
       * @param {string} attr - 'name' ou 'property'
       * @param {string} key - valor do atributo (ex: 'description', 'og:title')
       * @param {string} content - valor do content
       */
      _setMeta(attr, key, content) {
        let el = document.querySelector('meta[' + attr + '="' + key + '"]');
        if (!el) {
          el = document.createElement('meta');
          el.setAttribute(attr, key);
          document.head.appendChild(el);
        }
        el.setAttribute('content', content);
      }
    };

    /**
     * SchemaManager — atualiza Schema Markup JSON-LD dinamicamente.
     * Requirements: 5.1, 5.2, 5.3
     */
    const SchemaManager = {
      BASE_URL: 'https://ui-ux-style-showcase.com',

      /**
       * Atualiza o ItemList existente no JSON-LD @graph com URLs de slug.
       * Preserva FAQPage e WebSite schemas inalterados. — Req 5.1, 5.3
       */
      updateItemList() {
        const scriptEl = document.querySelector('script[type="application/ld+json"]');
        if (!scriptEl) return;

        try {
          const schema = JSON.parse(scriptEl.textContent);
          if (!schema['@graph']) return;

          const collectionPage = schema['@graph'].find(
            item => item['@type'] === 'CollectionPage'
          );
          if (!collectionPage || !collectionPage.mainEntity) return;

          const itemList = collectionPage.mainEntity;
          const items = DataLoader.styles.map((style, index) => ({
            '@type': 'ListItem',
            position: index + 1,
            name: style.name,
            url: this.BASE_URL + '/styles/' + ID_TO_SLUG[style.id],
          }));

          itemList.itemListElement = items;
          itemList.numberOfItems = DataLoader.styles.length;
          scriptEl.textContent = JSON.stringify(schema);
        } catch (e) {
          // Falha silenciosa — não quebra a página
        }
      },

      /**
       * Adiciona/atualiza schema JSON-LD do estilo atual (CreativeWork).
       * Usa script tag separada com id específico. — Req 5.2
       * @param {{ name: string, type: string }} style
       * @param {string} slug
       */
      updateCurrentStyle(style, slug) {
        const schemaId = 'ld-json-current-style';
        let scriptEl = document.getElementById(schemaId);

        if (!scriptEl) {
          scriptEl = document.createElement('script');
          scriptEl.type = 'application/ld+json';
          scriptEl.id = schemaId;
          document.head.appendChild(scriptEl);
        }

        const data = {
          '@context': 'https://schema.org',
          '@type': 'CreativeWork',
          name: style.name,
          url: this.BASE_URL + '/styles/' + slug,
          description: 'Demonstração visual do estilo ' + style.name + ' (' + style.type + '). Explore o design, veja exemplos e copie o prompt para reproduzir em IA generativa.',
          inLanguage: 'pt-BR',
          genre: style.type,
          isPartOf: {
            '@type': 'WebSite',
            name: 'Vibe Styles',
            url: this.BASE_URL + '/',
          },
        };

        scriptEl.textContent = JSON.stringify(data);
      }
    };

    const TYPE_CONFIG = {
      "General": { bg: "bg-violet-500/20", text: "text-violet-300" },
      "Landing Page": { bg: "bg-emerald-500/20", text: "text-emerald-300" },
      "BI/Analytics": { bg: "bg-amber-500/20", text: "text-amber-300" },
      "Infographic": { bg: "bg-rose-500/20", text: "text-rose-300" }
    };

    const select = document.getElementById("style-select");
    const iframe = document.getElementById("style-frame");
    const badge = document.getElementById("type-badge");
    const copyBtn = document.getElementById("copy-prompt-btn");
    const copyIcon = document.getElementById("copy-icon");
    const checkIcon = document.getElementById("check-icon");
    const copyLabel = document.getElementById("copy-label");

    /**
     * Inicialização assíncrona do app.
     * Carrega dados via DataLoader, popula o Combo, reconstrói mapas de slug,
     * e inicializa SchemaManager e SlugRouter após o cache estar pronto.
     * Requisitos: 2.3, 2.4, 5.1, 5.2
     */
    async function initApp() {
      try {
        await DataLoader.init();

        // Popula Combo a partir do cache
        DataLoader.styles.forEach(s => {
          const opt = document.createElement('option');
          opt.value = s.id;
          opt.textContent = `#${s.id} — ${s.name}`;
          select.appendChild(opt);
        });

        // Reconstrói SLUG_MAP e ID_TO_SLUG a partir do cache
        buildSlugMaps(DataLoader.styles);

        // Inicializa managers existentes
        SchemaManager.updateItemList();
        SlugRouter.init();
      } catch (err) {
        console.error('Erro ao inicializar app:', err);
        // Exibe estado de erro no Combo
        const opt = document.createElement('option');
        opt.textContent = 'Erro ao carregar estilos';
        select.appendChild(opt);
      }
    }

    initApp();

    function updateBadge(type) {
      const cfg = TYPE_CONFIG[type] || TYPE_CONFIG["General"];
      badge.className = `text-xs font-semibold px-3 py-1 rounded-full whitespace-nowrap ${cfg.bg} ${cfg.text}`;
      badge.textContent = type;
    }

    function loadStyle(id) {
      iframe.src = `/styles/${id}.html`;
      const style = DataLoader.getStyle(Number(id));
      if (style) updateBadge(style.type);
    }

    select.addEventListener("change", () => {
      const id = Number(select.value);
      loadStyle(id);
      const slug = ID_TO_SLUG[id];
      if (slug) {
        const style = SLUG_MAP[slug];
        MetaManager.update(style, slug);
        SchemaManager.updateCurrentStyle(style, slug);
        SlugRouter.navigateTo(slug);
      }
    });

    // Copy prompt — consulta o cache em memória via DataLoader (sem fetch adicional)
    // Requisitos: 3.1, 3.2, 3.3, 3.4
    copyBtn.addEventListener("click", async () => {
      const id = Number(select.value);
      const prompt = DataLoader.getPrompt(id);

      if (!prompt) {
        alert('Prompt não encontrado para este estilo');
        return;
      }

      try {
        await navigator.clipboard.writeText(DataLoader.buildPromptText(prompt));
        // Visual feedback (inalterado)
        copyBtn.classList.add("copied");
        copyIcon.classList.add("hidden");
        checkIcon.classList.remove("hidden");
        copyLabel.textContent = "Copiado!";
        setTimeout(() => {
          copyBtn.classList.remove("copied");
          copyIcon.classList.remove("hidden");
          checkIcon.classList.add("hidden");
          copyLabel.textContent = "Copiar Prompt";
        }, 2000);
      } catch (err) {
        alert("Erro ao copiar prompt: " + err.message);
      }
    });

    // FAQ Modal
    const faqModal = document.getElementById("faq-modal");
    const faqBtn = document.getElementById("faq-btn");
    const faqClose = document.getElementById("faq-close");

    function openFaq() {
      faqModal.classList.remove("hidden");
      faqModal.classList.add("flex");
      faqClose.focus();
    }
    function closeFaq() {
      faqModal.classList.add("hidden");
      faqModal.classList.remove("flex");
      faqBtn.focus();
    }
    faqBtn.addEventListener("click", openFaq);
    faqClose.addEventListener("click", closeFaq);
    faqModal.addEventListener("click", (e) => { if (e.target === faqModal) closeFaq(); });
    document.addEventListener("keydown", (e) => { if (e.key === "Escape" && !faqModal.classList.contains("hidden")) closeFaq(); });
  </script>
</body>

</html>